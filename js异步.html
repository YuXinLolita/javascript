<!DOCTYPE html>
<html>
    <head>
        <title>异步</title>
    </head>
    <body>
        
    </body>
    <script>
        //callback hell 回调地狱
        //获取第一份数据
        $.get(url1, (data1) => {   
            console.log(data1)
            //获取第二份数据
            $.get(url2 ,(data2) => {
                console.log(data2)
                //获取第二份数据
                $.get(url3, (data3) => {
                    console.log(data3)
                    //还可能获取更多的数据
                })
            })
        })
        //Promise
        function getData(url) {
            return new Promise((resolve, reject) => {
                $.ajax({
                    url,
                    success(data) {
                        resolve(data)
                    },
                    error(err) {
                        reject(err)
                    }
                })
            })
        }
        
        const url1 = '/data1.json'
        const url2 = '/data1.json'
        const url3 = '/data1.json'
        getData(url1).then(data1 => {
            console.log(data1)
            return getData(url2)
        }).then(data2 => {
            console.log(data2)
            return getData(url3)
        }).then(data3 => {
            console.log(data3)
        }).catch(err => console.errorerr(err))
         //ajax
    console.log('start')
    $.get('./data1.jspn', function (data1) {
        console.log(data1)
    }
    )
    console.log('end')
    //图片加载
    console.log('start')
    let img = document.createElement(('img'))
    img.onload = function () {
        console.log('loaded')
    }
    img.src  = '/xxx.png'
    console.log('end')
    //定时器 setInterval
    console.log(100)
    setInterval(function () {
        console.log(200)
    },1000)
    console.log(300)
        //settimeout
        console.log(100)
        setTimeout(function () {
            console.log(200)
        },1000)
        console.log(300)
        
    </script>
</html>